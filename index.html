<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜ å¥§é»å¸³å‹™å°å¹«æ‰‹</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #ffffff;
            --text-sub: #b0b0b0;
            --primary: #1890ff; /* è—è‰²ï¼šä¸€èˆ¬æ“ä½œ */
            --accent: #ffcc00;  /* é»ƒè‰²ï¼šæç¤º/æ³¨æ„ */
            --danger: #ff4d4f;  /* ç´…è‰²ï¼šé‡é»/è¡¨å–® */
            --success: #52c41a; /* ç¶ è‰²ï¼šå®Œæˆ */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Microsoft JhengHei', -apple-system, BlinkMacSystemFont, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 500px;
            background-color: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.5);
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid #333;
        }

        h1 {
            color: var(--accent);
            font-size: 24px;
            margin-bottom: 10px;
            margin-top: 0;
        }

        h2 {
            font-size: 20px;
            margin-bottom: 25px;
            color: var(--text-main);
            line-height: 1.4;
        }

        .subtitle {
            color: var(--text-sub);
            font-size: 14px;
            margin-bottom: 20px;
        }

        /* é€²åº¦æ¢ */
        .progress-bar {
            height: 4px;
            background: #333;
            border-radius: 2px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .btn-grid {
            display: grid;
            gap: 15px;
        }

        .btn {
            background: #2a2a2a;
            border: 2px solid #444;
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .btn:hover {
            border-color: var(--primary);
            background: #303030;
            transform: translateY(-2px);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn i {
            font-style: normal;
            font-size: 20px;
        }

        .btn-restart {
            margin-top: 20px;
            background: transparent;
            border: 1px solid var(--text-sub);
            color: var(--text-sub);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            width: auto;
            display: inline-block;
        }

        /* çµæœå¡ç‰‡æ¨£å¼ */
        .result-card {
            text-align: left;
            animation: fadeIn 0.5s;
        }

        .result-title {
            font-size: 22px;
            color: var(--danger);
            font-weight: bold;
            margin-bottom: 15px;
            border-bottom: 1px solid #444;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .warning-box {
            background: rgba(255, 204, 0, 0.1);
            border-left: 4px solid var(--accent);
            padding: 15px;
            margin: 15px 0;
            font-size: 14px;
            line-height: 1.6;
            color: #ddd;
        }

        .action-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .action-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
            font-size: 15px;
        }

        .action-list li::before {
            content: "âœ“";
            color: var(--success);
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        /* å‹•ç•« */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hidden {
            display: none;
        }
        
        /* æ¨™ç±¤ */
        .tag {
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 4px;
            background: #444;
            margin-left: 10px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>å¸³å‹™å°å¹«æ‰‹ ğŸ¤–</h1>
    
    <div class="progress-bar">
        <div class="progress-fill" id="progress"></div>
    </div>

    <!-- æ­¥é©Ÿå®¹å™¨ -->
    <div id="step-container">
        <!-- å…§å®¹ç”± JS å‹•æ…‹ç”Ÿæˆ -->
    </div>

</div>

<script>
    // å®šç¾©æ±ºç­–é‚è¼¯æ¨¹
    const steps = {
        start: {
            title: "è«‹å•é€™ç­†è²»ç”¨çš„é ç®—ç‹€æ³ï¼Ÿ",
            subtitle: "ç¬¬ä¸€æ­¥ï¼šç¢ºèªéŒ¢å¤ ä¸å¤ ",
            progress: 10,
            options: [
                { text: "é ç®—å……è¶³ä¸”æ­£ç¢º", next: "pay_method" },
                { text: "é ç®—ä¸è¶³ / ç§‘ç›®éŒ¯èª¤", next: "budget_fail" }
            ]
        },
        budget_fail: {
            isResult: true,
            title: "ğŸ›‘ æš«åœæµç¨‹",
            content: `
                <p>è«‹å„ªå…ˆè™•ç†é ç®—å•é¡Œï¼Œå¦å‰‡ç„¡æ³•è«‹æ¬¾ã€‚</p>
                <div class="warning-box">
                    <strong>âš ï¸ æ‡‰è®Šæªæ–½ï¼š</strong><br>
                    1. èª¿æ•´æ”¯å‡ºè¦åŠƒ<br>
                    2. ç”³è«‹è¿½åŠ é ç®— (éœ€ä¸»ç®¡æ ¸å‡†)
                </div>
            `
        },
        pay_method: {
            title: "è«‹å•ä»˜æ¬¾æ–¹å¼æ˜¯ï¼Ÿ",
            subtitle: "ç¾é‡‘ä¸Šé™ç‚ºå°ˆæ¡ˆ 30%",
            progress: 30,
            options: [
                { text: "å…¬å¸ç›´æ¥åŒ¯æ¬¾çµ¦å» å•†", next: "vendor_check" },
                { text: "æˆ‘è¦å…ˆå¢ŠéŒ¢ / é æ”¯", next: "prepay_check" },
                { text: "å¿…é ˆç”¨ç¾é‡‘ (å·²é”30%ä¸Šé™)", next: "cash_limit_fail" }
            ]
        },
        cash_limit_fail: {
            isResult: true,
            title: "ğŸ›‘ è¶…å‡ºç¾é‡‘ä¸Šé™",
            content: `
                <p>ç¾é‡‘æ”¯ä»˜å·²é”å°ˆæ¡ˆé ç®— 30%ï¼Œè«‹è®Šæ›´æ–¹å¼ã€‚</p>
                <div class="warning-box">
                    <strong>âš ï¸ è§£æ±ºæ–¹æ¡ˆï¼š</strong><br>
                    1. æ”¹è«‹å» å•†æä¾›ç™¼ç¥¨ï¼Œç”±å…¬å¸åŒ¯æ¬¾<br>
                    2. å¯«ç°½å‘ˆç”³è«‹ä¸»ç®¡æ ¸å‡† (ç´„éœ€ 3-5 å¤©)
                </div>
            `
        },
        // --- å“¡å·¥æ”¯ä»˜åˆ†æ”¯ ---
        prepay_check: {
            title: "ä½ éœ€è¦å…¬å¸å…ˆé æ”¯ç¾é‡‘çµ¦ä½ å—ï¼Ÿ",
            subtitle: "é‚„æ˜¯ä½ é¡˜æ„å…ˆè‡ªå·±åˆ·å¡/ä»˜ç¾ï¼Ÿ",
            progress: 50,
            options: [
                { text: "éœ€è¦é æ”¯ (æ‰‹é ­ç·Š)", next: "prepay_has_labor" },
                { text: "ä¸ç”¨ï¼Œæˆ‘è‡ªå·±å…ˆå¢Š (æ¨è–¦)", next: "reimburse_has_labor" }
            ]
        },
        // Aè¡¨è·¯å¾‘
        prepay_has_labor: {
            title: "é€™ç­†é æ”¯åŒ…å«ã€Œå‹å‹™è²»ã€å—ï¼Ÿ",
            subtitle: "ä¾‹å¦‚ï¼šå·¥è®€ç”Ÿè–ªè³‡ã€è¬›å¸«è²»ã€æ”å½±å¸«è²»ç”¨",
            progress: 70,
            options: [
                { text: "åŒ…å«å‹å‹™", next: "result_form_a_labor" },
                { text: "ä¸€èˆ¬ç™¼ç¥¨/æ”¶æ“š", next: "result_form_a" }
            ]
        },
        // Cè¡¨è·¯å¾‘
        reimburse_has_labor: {
            title: "é€™ç­†ä»£å¢ŠåŒ…å«ã€Œå‹å‹™è²»ã€å—ï¼Ÿ",
            subtitle: "ä¾‹å¦‚ï¼šå·¥è®€ç”Ÿè–ªè³‡ã€è¬›å¸«è²»ã€æ”å½±å¸«è²»ç”¨",
            progress: 70,
            options: [
                { text: "åŒ…å«å‹å‹™", next: "result_form_c_labor" },
                { text: "ä¸€èˆ¬ç™¼ç¥¨/æ”¶æ“š", next: "result_form_c" }
            ]
        },
        // --- å…¬å¸æ”¯ä»˜åˆ†æ”¯ ---
        vendor_check: {
            title: "å» å•†/å€‹äººå»ºæª”äº†å—ï¼Ÿ",
            subtitle: "è«‹æŸ¥è©¢ 603 ç³»çµ±",
            progress: 50,
            options: [
                { text: "å·²å»ºæª”", next: "vendor_type_check" },
                { text: "æœªå»ºæª” / ä¸ç¢ºå®š", next: "result_new_vendor" }
            ]
        },
        vendor_type_check: {
            title: "ä»˜æ¬¾é¡å‹æ˜¯ï¼Ÿ",
            subtitle: "ä¸€èˆ¬æ¡è³¼é‚„æ˜¯ä»˜çµ¦å€‹äººï¼Ÿ",
            progress: 70,
            options: [
                { text: "ä¸€èˆ¬å» å•† (æœ‰ç™¼ç¥¨)", next: "result_form_d" },
                { text: "å€‹äººå‹å‹™ (å¡«å‹å ±å–®)", next: "result_labor_202" }
            ]
        },

        // --- çµæœé é¢ ---
        result_form_a: {
            isResult: true,
            title: "ğŸ“ è«‹å¡«å¯« Aè¡¨ (é€±è½‰é‡‘)",
            content: `
                <ul class="action-list">
                    <li>ç·šä¸Šå¡«å¯« <strong>201 è¡¨å–®</strong></li>
                    <li>é¸æ“‡é¡å‹ï¼š<strong>Aè¡¨</strong></li>
                    <li>è¨»æ˜å°ˆæ¡ˆçµæŸæ—¥æœŸ</li>
                </ul>
                <div class="warning-box">
                    <strong>âš ï¸ é‡è¦æé†’ï¼š</strong><br>
                    æ¬¾é …æ’¥ä¸‹å¾Œï¼Œéœ€åœ¨ <strong>7å¤©å…§</strong> å®Œæˆæ ¸éŠ· (å¡«Bè¡¨)ã€‚<br>
                    è«‹ä¿ç•™æ‰€æœ‰åŸå§‹å–®æ“šã€‚
                </div>
            `
        },
        result_form_a_labor: {
            isResult: true,
            title: "ğŸ“ Aè¡¨ + å‹å‹™ç¨…å‹™ç¢ºèª",
            content: `
                <p>å› ç‚ºåŒ…å«å‹å‹™ï¼Œæµç¨‹è¼ƒè¤‡é›œï¼š</p>
                <ul class="action-list">
                    <li>å…ˆé€²è¡Œ<strong>ç¨…å‹™ç¢ºèª</strong> (è¨ˆç®—æ‰£ç¨…/äºŒä»£å¥ä¿)</li>
                    <li>ç·šä¸Šå¡«å¯« <strong>Aè¡¨</strong> (201è¡¨å–®)</li>
                </ul>
                <div class="warning-box">
                    <strong>âš ï¸ å‹å‹™æ³¨æ„ï¼š</strong><br>
                    è«‹ç¢ºèªå°æ–¹æ˜¯å¦é¡˜æ„æä¾›å€‹è³‡å»ºæª”ã€‚<br>
                    è‹¥é‡‘é¡è¶…é 2 è¬ï¼Œå»ºè­°å¼·åˆ¶å»ºæª”ã€‚
                </div>
            `
        },
        result_form_c: {
            isResult: true,
            title: "ğŸ“ è«‹å¡«å¯« Cè¡¨ (ä»£å¢Šå ±éŠ·)",
            content: `
                <p>é€™æ˜¯æœ€å–®ç´”çš„æµç¨‹ï¼</p>
                <ul class="action-list">
                    <li>æ”¶é›†å¥½æ‰€æœ‰ç™¼ç¥¨/æ”¶æ“š</li>
                    <li>ç·šä¸Šå¡«å¯« <strong>201 è¡¨å–®</strong></li>
                    <li>é¸æ“‡é¡å‹ï¼š<strong>Cè¡¨</strong></li>
                </ul>
                <div class="warning-box">
                    <strong>âš ï¸ æª¢æŸ¥é‡é»ï¼š</strong><br>
                    ç™¼ç¥¨çµ±ç·¨æ˜¯å¦æ­£ç¢ºï¼Ÿ<br>
                    æ—¥æœŸæ˜¯å¦åœ¨å°ˆæ¡ˆæœŸé–“å…§ï¼Ÿ
                </div>
            `
        },
        result_form_c_labor: {
            isResult: true,
            title: "ğŸ“ Cè¡¨ + å‹å‹™è™•ç†",
            content: `
                <ul class="action-list">
                    <li>å…ˆå®Œæˆå‹å‹™å–®æ“šç°½ç½² (203è¡¨æˆ–205è¡¨)</li>
                    <li>ç¢ºèªç¨…é¡èˆ‡äºŒä»£å¥ä¿</li>
                    <li>æœ€å¾Œå¡«å¯« <strong>Cè¡¨</strong> å ±éŠ·</li>
                </ul>
                <div class="warning-box">
                    <strong>âš ï¸ æé†’ï¼š</strong><br>
                    è«‹å‹™å¿…ç¢ºèªè«‹é ˜äººçš„èº«åˆ†è­‰å­—è™Ÿèˆ‡æˆ¶ç±åœ°å€æ­£ç¢ºï¼Œä»¥å…æ‰£ç¹³å¤±æ•—ã€‚
                </div>
            `
        },
        result_new_vendor: {
            isResult: true,
            title: "ğŸ†• éœ€å…ˆå»ºç«‹æª”æ¡ˆ",
            content: `
                <p>ç„¡æ³•ç›´æ¥è«‹æ¬¾ï¼Œè«‹å…ˆå®Œæˆå»ºæª”ã€‚</p>
                <ul class="action-list">
                    <li>å» å•†ï¼šå¡«å¯« <strong>501 è¡¨</strong></li>
                    <li>å€‹äººï¼šå¡«å¯« <strong>502 è¡¨</strong></li>
                    <li>éœ€ä¸Šå‚³å­˜æ‘ºå½±æœ¬èˆ‡è­‰ä»¶</li>
                </ul>
                <div class="warning-box">
                    å»ºæª”å¯©æ ¸ç´„éœ€ 1-2 å€‹å·¥ä½œå¤©ã€‚<br>
                    å¯©æ ¸é€šéå¾Œï¼Œå†å›ä¾†å¡«å¯« Dè¡¨ã€‚
                </div>
            `
        },
        result_form_d: {
            isResult: true,
            title: "ğŸ“ è«‹å¡«å¯« Dè¡¨ (å¾…ä»˜è²»ç”¨)",
            content: `
                <ul class="action-list">
                    <li>ç¢ºèªå·²é–‹ç«‹æ¡è³¼å–® (PO)</li>
                    <li>å–å¾—å» å•†ç™¼ç¥¨</li>
                    <li>ç·šä¸Šå¡«å¯« <strong>201 è¡¨å–®</strong> (é¸Dè¡¨)</li>
                </ul>
                <div class="warning-box">
                    <strong>âš ï¸ ä»˜æ¬¾æé†’ï¼š</strong><br>
                    ç¢ºèªä»˜æ¬¾æ¢ä»¶ (ä¾‹å¦‚ï¼šæœˆçµ30å¤©)ã€‚<br>
                    è«‹å†ä¸‰ç¢ºèªå» å•†åŒ¯æ¬¾å¸³è™Ÿã€‚
                </div>
            `
        },
        result_labor_202: {
            isResult: true,
            title: "ğŸ“ è«‹å¡«å¯« 202è¡¨ (å‹å‹™è«‹æ¬¾)",
            content: `
                <p>é©ç”¨æ–¼æ”¯ä»˜çµ¦å€‹äººçš„æ¬¾é …ã€‚</p>
                <ul class="action-list">
                    <li>å¡«å¯« <strong>202 è¡¨å–®</strong></li>
                    <li>æª¢é™„èº«åˆ†è­‰å½±æœ¬</li>
                    <li>Email å›å‚³ç¢ºèªä¿¡</li>
                </ul>
                <div class="warning-box">
                    <strong>âš ï¸ ç¨…å‹™æé†’ï¼š</strong><br>
                    ç³»çµ±æœƒè‡ªå‹•è¨ˆç®—æ‡‰æ‰£ç¨…é¡ï¼Œè«‹é€šçŸ¥è«‹æ¬¾äººå¯¦é ˜é‡‘é¡æœƒæ‰£é™¤ç¨…é‡‘ã€‚
                </div>
            `
        }
    };

    const container = document.getElementById('step-container');
    const progressBar = document.getElementById('progress');

    // æ¸²æŸ“å‡½æ•¸
    function renderStep(stepId) {
        const step = steps[stepId];
        if (!step) return;

        // æ›´æ–°é€²åº¦æ¢
        progressBar.style.width = (step.progress || 100) + '%';

        // æ¸²æŸ“å…§å®¹
        if (step.isResult) {
            renderResult(step);
        } else {
            renderQuestion(step);
        }
    }

    function renderQuestion(step) {
        let html = `
            <h2>${step.title}</h2>
            ${step.subtitle ? `<p class="subtitle">${step.subtitle}</p>` : ''}
            <div class="btn-grid">
        `;

        step.options.forEach(opt => {
            html += `
                <button class="btn" onclick="renderStep('${opt.next}')">
                    <span>${opt.text}</span>
                    <i>â”</i>
                </button>
            `;
        });

        html += `</div>`;
        
        // åŠ ä¸Šé‡æ–°é–‹å§‹æŒ‰éˆ• (å¦‚æœä¸æ˜¯ç¬¬ä¸€æ­¥)
        if (step.title !== steps.start.title) {
            html += `<button class="btn-restart" onclick="renderStep('start')">â†º é‡æ–°é–‹å§‹</button>`;
        }

        container.innerHTML = html;
    }

    function renderResult(step) {
        container.innerHTML = `
            <div class="result-card">
                <div class="result-title">
                    ${step.title}
                </div>
                <div>${step.content}</div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" style="display:inline-block; background:var(--primary); border:none;" onclick="renderStep('start')">
                        å®Œæˆï¼Œå›åˆ°é¦–é 
                    </button>
                </div>
            </div>
        `;
        progressBar.style.width = '100%';
    }

    // åˆå§‹åŒ–
    renderStep('start');

</script>

</body>
</html>
